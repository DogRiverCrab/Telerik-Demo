<script type='text/javascript'>
  function openInIframe() {
    $('#linkedin_frame').attr('src', '/static/Jim_Holmes_LinkedIn.html');
  }
</script>
<%= form_for(@contact) do |f| %>
  <% if @contact.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@contact.errors.count, "error") %> prohibited this contact from being saved:</h2>

      <ul>
      <% @contact.errors.full_messages.each do |msg| %>
        <li><%= msg %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

  <div class="field">
    <%= f.label :first_name %><br />
    <%= f.text_field :first_name %>
  </div>
  <div class="field">
    <%= f.label :last_name %><br />
    <%= f.text_field :last_name %>
  </div>
  <div class="field">
    <%= f.label :email %><br />
    <%= f.text_field :email %>
  </div>
  <div class="field">
    <%= f.label :linkedin_profile %><br />
    <%= f.text_field :linkedin_profile %> <%= link_to_function 'View', 'openInIframe()' %>
  </div>
  <div id="lead_types">
    <%= image_tag 'hot-icon.png'     , :size => '23x23' , 'draggable' => true %>
    <%= image_tag 'neutral-icon.png' , :size => '23x23' , 'draggable' => true %>
    <%= image_tag 'cold-icon.png'    , :size => '23x23' , 'draggable' => true %>
  </div>
  <div class="field">
    <%= f.label :lead_type %><br />
    <div id="drop_target">
      <%= image_tag lead_type_icon(@contact.lead_type), :size => '23x23' %>
    </div>
    <%= f.hidden_field :lead_type %>
  </div>
  <div class="actions">
    <%= f.submit %>
  </div>
  <%= link_to_function 'Cancel', 'window.close()' %>
<% end %>

<%= render :partial => 'linkedin_frame' %>
